<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {{!-- <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script> --}}
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.50.0/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/public/css/style.css" />
    <title>Auction Site</title>
</head>
<body>
    <nav class="w-full h-[5rem] flex justify-around items-center bg-[#588B8B]/70">
        <a href="/" class="text-4xl text-white">Auction Site</a>
        {{#if logged_in}}
        <div>
        <a class="text-lg text-white border-2 p-2 bg-[#EEEEEE]/30 hover:bg-[#EEEEEE]/20 cursor-pointer" id="logout-btn">logout</a>
        <a class="text-lg text-white border-2 p-2 bg-[#EEEEEE]/30 hover:bg-[#EEEEEE]/20" href="/product/newproduct">List an Item</a>
        </div>
        {{else}}
        <a class="text-lg text-white border-2 p-2 bg-[#EEEEEE]/30 hover:bg-[#EEEEEE]/20" href="/user">login</a>
        {{/if}}
    </nav>
    {{{body}}}




   <script>
    document.querySelector('#logout-btn').addEventListener("click", () => {
        fetch("/user/logout", {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            }).then(res => {
        if (res.ok) {
            location.replace('/');
        } else (
            console.log(res.statusText)
        )
    })
    })
   </script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.3/flowbite.min.js"></script>
</body>
</html>